# Foxic Theme Shoppi Website

This project provides a PHP front‑end that connects to the Shoppi API in order to build a multi‑language e‑commerce website.

## Prerequisites

* PHP 7.4 or later
* [Composer](https://getcomposer.org/) (for vendor libraries)
* Redis server for caching and cart/checkout data
* A Shoppi account with an active store

## Installation

1. Clone the repository and run `composer install` to fetch PHP dependencies.
2. Copy `.env.example` to `.env` and set required variables:
   - `STRIPE_SECRET_KEY` – your Stripe restricted API key
   - `APP_LANG` – default language (e.g. `en`)
   - `DB_DRIVER` – `redis` or `local`
   - `REDIS_HOST`, `REDIS_PORT` – Redis server
3. Configure your web server to serve the project root and enable URL rewriting as provided in `.htaccess`.
4. Ensure Redis is running and accessible.
5. Point the domain configured in Shoppi to this installation.

## Usage

The application will automatically load language strings based on the `lang` query parameter or the value stored in the session. Checkout is handled through the Stripe API using the key configured in the environment file.

## Search Plugin

Client-side search queries `/plugins/search.php` which proxies the Shoppi API and caches results in Redis. Results are rendered using Handlebars templates in `page/js/search.js`.

## Hosting

Need hosting? Visit [shoppi.cloud](https://www.shoppi.cloud).

## MVC Structure

The application now follows a simple MVC approach. Controllers live in `app/controllers`, templates in `app/views`, and a small `View` class handles rendering. Entry scripts (`index.php`, `product.php`, `page.php`) simply delegate to their respective controllers.
